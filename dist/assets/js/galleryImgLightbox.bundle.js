/*! For license information please see galleryImgLightbox.bundle.js.LICENSE.txt */
(()=>{var t={2943:function(t){var e,o;e="undefined"!=typeof window?window:this,o=function(){function t(){}let e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;let o=this._events=this._events||{},i=o[t]=o[t]||[];return i.includes(e)||i.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);let o=this._onceEvents=this._onceEvents||{};return(o[t]=o[t]||{})[e]=!0,this},e.off=function(t,e){let o=this._events&&this._events[t];if(!o||!o.length)return this;let i=o.indexOf(e);return-1!=i&&o.splice(i,1),this},e.emitEvent=function(t,e){let o=this._events&&this._events[t];if(!o||!o.length)return this;o=o.slice(0),e=e||[];let i=this._onceEvents&&this._onceEvents[t];for(let s of o)i&&i[s]&&(this.off(t,s),delete i[s]),s.apply(this,e);return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t},t.exports?t.exports=o():e.EvEmitter=o()},2375:function(t,e,o){!function(e,i){t.exports?t.exports=i(e,o(2943)):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,(function(t,e){let o=t.jQuery,i=t.console;function s(t,e,n){if(!(this instanceof s))return new s(t,e,n);let r=t;var a;("string"==typeof t&&(r=document.querySelectorAll(t)),r)?(this.elements=(a=r,Array.isArray(a)?a:"object"==typeof a&&"number"==typeof a.length?[...a]:[a]),this.options={},"function"==typeof e?n=e:Object.assign(this.options,e),n&&this.on("always",n),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))):i.error(`Bad element for imagesLoaded ${r||t}`)}s.prototype=Object.create(e.prototype),s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const n=[1,9,11];s.prototype.addElementImages=function(t){"IMG"===t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);let{nodeType:e}=t;if(!e||!n.includes(e))return;let o=t.querySelectorAll("img");for(let t of o)this.addImage(t);if("string"==typeof this.options.background){let e=t.querySelectorAll(this.options.background);for(let t of e)this.addElementBackgroundImages(t)}};const r=/url\((['"])?(.*?)\1\)/gi;function a(t){this.img=t}function c(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){let e=getComputedStyle(t);if(!e)return;let o=r.exec(e.backgroundImage);for(;null!==o;){let i=o&&o[2];i&&this.addBackground(i,t),o=r.exec(e.backgroundImage)}},s.prototype.addImage=function(t){let e=new a(t);this.images.push(e)},s.prototype.addBackground=function(t,e){let o=new c(t,e);this.images.push(o)},s.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let t=(t,e,o)=>{setTimeout((()=>{this.progress(t,e,o)}))};this.images.forEach((function(e){e.once("progress",t),e.check()}))},s.prototype.progress=function(t,e,o){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&i&&i.log(`progress: ${o}`,t,e)},s.prototype.complete=function(){let t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){let t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},a.prototype=Object.create(e.prototype),a.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},a.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},a.prototype.confirm=function(t,e){this.isLoaded=t;let{parentNode:o}=this.img,i="PICTURE"===o.nodeName?o:this.img;this.emitEvent("progress",[this,i,e])},a.prototype.handleEvent=function(t){let e="on"+t.type;this[e]&&this[e](t)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(a.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(o=e,o.fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(o(this))})},s.makeJQueryPlugin(),s}))}},e={};function o(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,o),n.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=o(2375),e=o.n(t);const i=["webkit","moz","MS","o",""],s=(t,e,o)=>{i.forEach((i=>{i||(e=e.toLowerCase()),t.addEventListener(i+e,o,!1)}))},n=document.querySelector(".lightbox").querySelector(".lightbox-content"),r=t=>{document.body.classList.add("js-lightbox-loading"),document.body.classList.remove("js-lightbox-active"),document.body.classList.remove("js-lightbox-first"),document.body.classList.remove("js-lightbox-last"),n.innerHTML='<img src="'+t+'" />',e()(n,(function(){document.body.classList.remove("js-lightbox-loading"),document.body.classList.add("js-lightbox-active")}))},a=t=>{t.preventDefault();const e=t.target.closest("a");r(e.href)},c=document.querySelectorAll('[data-action="lightbox-open"]');let d=[];c.forEach((t=>{d.push(t.getAttribute("href")),t.addEventListener("click",a)}));const h=t=>{t&&t.preventDefault(),document.body.classList.remove("js-lightbox-loading"),document.body.classList.remove("js-lightbox-active"),n.innerHTML=""};document.querySelectorAll('[data-action="lightbox-close"]').forEach((t=>{t.addEventListener("click",h)})),document.addEventListener("keyup",(t=>{27!==t.keyCode&&33!==t.keyCode&&34!==t.keyCode||!document.body.classList.contains("js-lightbox-loading")&&!document.body.classList.contains("js-lightbox-active")||h()})),document.addEventListener("mousewheel",(t=>{(document.body.classList.contains("js-lightbox-loading")||document.body.classList.contains("js-lightbox-active"))&&h()}));const l=t=>{let e=d.indexOf(n.querySelector("img").src);e--,e>=0?r(d[e]):(document.body.classList.add("js-lightbox-first"),s(n,"TransitionEnd",(()=>{document.body.classList.remove("js-lightbox-first")})))};document.querySelectorAll('[data-action="lightbox-previous"]').forEach((t=>{t.addEventListener("click",l)})),document.addEventListener("keyup",(t=>{37!==t.keyCode&&40!==t.keyCode||!document.body.classList.contains("js-lightbox-loading")&&!document.body.classList.contains("js-lightbox-active")||l()}));const u=t=>{let e=d.indexOf(n.querySelector("img").src);e++,e<d.length?r(d[e]):(document.body.classList.add("js-lightbox-last"),s(n,"TransitionEnd",(()=>{document.body.classList.remove("js-lightbox-last")})))};document.querySelectorAll('[data-action="lightbox-next"]').forEach((t=>{t.addEventListener("click",u)})),document.addEventListener("keyup",(t=>{38!==t.keyCode&&39!==t.keyCode||!document.body.classList.contains("js-lightbox-loading")&&!document.body.classList.contains("js-lightbox-active")||u()}));let g=0,m=0,p=0,f=0;document.addEventListener("touchstart",(t=>{t.target!==n&&t.target!==n.querySelector("img")||(g=t.pageX||t.touches[0].pageX,m=t.pageY||t.touches[0].pageY)})),document.body.addEventListener("touchmove",(t=>{t.target!==n&&t.target!==n.querySelector("img")||(p=t.pageX||t.touches[0].pageX,f=t.pageY||t.touches[0].pageY)})),document.addEventListener("touchend",(t=>{if(t.target===n||t.target===n.querySelector("img")){const t=g-p,e=m-f;Math.abs(t)>Math.abs(e)?t>0?u():l():h()}}))})()})();